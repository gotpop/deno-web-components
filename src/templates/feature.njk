{% extends "base-hero.njk" %}
{% from "partials/code/code-block.njk" import codeBlock %}

{% block hero %}
    <h1 
        bottom="2" 
        id="heading-primary"
        top="3" 
        variant="xxl" 
    >{{ currentFeature.title }}</h1>
    <p 
        variant="lg" 
        id="subheading" 
        top="3"
    >{{ currentFeature.description }}</p>
{% endblock %}

{% block page_content %}
    <surface-item 
        aria-label="{{ currentFeature.title }}"
        size="large" 
        variant="light"
        end="22"
        start="4"
        >
        {% for item in currentFeature.bodyMarkupData %}
            {% if item.tag == "h2" %}
                <h2 variant="xl" top="2" bottom="4" id="{{ item.id }}">{{ item.content }}</h2>

            {% elif item.tag == "h3" %}
                <h3 variant="lg" top="4" bottom="3" id="{{ item.id }}">{{ item.content }}</h3>

            {% elif item.tag == "p" %}
                <p top="1" bottom="2">{{ item.content }}</p>

            {% elif item.tag == "ul" %}
                <ul>
                    {% for listItem in item.items %}
                        <li>{{ listItem }}</li>
                    {% endfor %}
                </ul>

            {% elif item.tag == "codeblock" %}
                {{ codeBlock(item.language, item.code) }}

            {% else %}
                <{{ item.tag }} {% if item.id %}id="{{ item.id }}"{% endif %}>
                    {{ item.content }}
                </{{ item.tag }}>
            {% endif %}
        {% endfor %}
        <a 
            class="link-feature" 
            href="/features">
            <span>Back to Features</span></a>
    </surface-item>
    <surface-item   
        align="start"
        aria-label="{{ currentFeature.title }}"
        end="34"
        size="medium" 
        start="23" 
        variant="light" 
    >
        {% for link in currentFeature.links %}
            <a 
                class="link-feature"
                justify="left"
                href="{{ link.link }}"
            >
                <span>{{ link.label }}</span></a>
        {% endfor %}
    </surface-item>
{% endblock %}